{
  "settings": {
    "index" : {
      "codec": "best_compression",
      "mapping": {
        "total_fields": {
          "limit": 10000
        }
      },
      "max_docvalue_fields_search": 200,
    	"number_of_shards" : "{{ .Values.elasticsearch.index_shards }}",
      "number_of_replicas" : "{{ .Values.elasticsearch.index_replicas }}",
      "refresh_interval": "5s"
    }
  },
  "mappings" : {
    "_source" : {
      "enabled" : true
    },
    "dynamic_templates": [   
      {
        "container.*": {
          "mapping": {
            "type": "keyword"
          },
          "match_mapping_type": "*",
          "path_match": "container.*"
        }
      },   
      {
        "kubernetes.labels.*": {
          "mapping": {
            "type": "keyword"
          },
          "match_mapping_type": "*",
          "path_match": "kubernetes.labels.*"
        }
      },
      {
        "kubernetes.annotations.*": {
          "mapping": {
            "type": "keyword"
          },
          "match_mapping_type": "*",
          "path_match": "kubernetes.annotations.*"
        }
      },
      {
        "host.*": {
          "mapping": {
            "type": "keyword"
          },
          "match_mapping_type": "*",
          "path_match": "host.*"
        }
      }
     ],
    "properties" : {
      "@timestamp" : {
          "type" : "date"
      },
      "_id" : {
          "type" : "keyword"
      }
    }
  },
  "index_patterns":["journals-*"]
}