{
   "settings":{
      "index":{
         "codec":"best_compression",
         "mapping.total_fields.limit":"2000",
         "number_of_shards":"{{ .Values.elasticsearch.index_shards }}",
         "number_of_replicas":"{{ .Values.elasticsearch.index_replicas }}",
         "refresh_interval":"5s"
      }
   },
   "mappings":{
      "_source":{
         "enabled":true
      },
      "dynamic_templates":[
         {
            "container.labels.*":{
               "mapping":{
                  "type":"keyword"
               },
               "match_mapping_type":"*",
               "path_match":"container.labels.*"
            }
         },
         {
            "kubernetes.labels.*":{
               "mapping":{
                  "type":"keyword"
               },
               "match_mapping_type":"*",
               "path_match":"kubernetes.labels.*"
            }
         },
         {
            "kubernetes.annotations.*":{
               "mapping":{
                  "type":"keyword"
               },
               "match_mapping_type":"*",
               "path_match":"kubernetes.annotations.*"
            }
         }
      ],
      "properties":{
         "@timestamp":{
            "type":"date"
         },
         "caller":{
            "type":"text"
         },
         "connectDone":{
            "type":"date"
         },
         "dnsDone":{
            "type":"date"
         },
         "duration_seconds":{
            "type":"float"
         },
         "end":{
            "type":"date"
         },
         "gotConn":{
            "type":"date"
         },
         "host":{
            "type":"keyword",
            "ignore_above":1024
         },
         "ip":{
            "type":"keyword"
         },
         "ip_protocol":{
            "type":"keyword",
            "ignore_above":256
         },
         "level":{
            "type":"keyword",
            "ignore_above":256
         },
         "location":{
            "type":"text",
            "fields":{
               "keyword":{
                  "type":"keyword",
                  "ignore_above":256
               }
            }
         },
         "message":{
            "type":"text"
         },
         "module":{
            "type":"keyword",
            "ignore_above":256
         },
         "probe":{
            "type":"keyword",
            "ignore_above":256
         },
         "responseStart":{
            "type":"date"
         },
         "roundtrip":{
            "type":"long"
         },
         "start":{
            "type":"date"
         },
         "status_code":{
            "type":"long"
         },
         "target":{
            "type":"keyword",
            "ignore_above":1024
         },
         "timeout_seconds":{
            "type":"float"
         },
         "url":{
            "type":"keyword",
            "ignore_above":1024
         }
      }
   },
   "index_patterns":[
      "blackbox-exporter-*"
   ]
}